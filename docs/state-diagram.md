# UI 상태 다이어그램 (State Diagram) - v1.0

본 문서는 프론트엔드 A(UI/UX)와 프론트엔드 B(Web3), 백엔드(A, B) 간의
상태 공유를 위한 기준 문서입니다.

## 🌊 유저의 핵심 플로우 (Happy Path)

1.  **IDLE (대기)**

    - 유저가 페이지에 진입한 상태.
    - '투표' 버튼 활성화.

2.  **GENERATING_PROOF (증명 생성 중)**

    - 트리거: '투표' 버튼 클릭
    - UI: "증명 생성 중..." 토스트/스피너 표시, 버튼 비활성화.
    - (시연 시나리오 0:20)

3.  **SUBMITTING (제출 중)**

    - 트리거: 증명 생성 완료 후, Relayer로 트랜잭션 제출
    - UI: "제출 중..." 상태 배지 표시, 버튼 비활성화.
    - (시연 시나리오 0:50)

4.  **VALIDATING (검증 중)**

    - 트리거: 트랜잭션 전송 성공 (Conf=1)
    - UI: "검증 중 (Conf=1)" 상태 배지 표시.
    - (시연 시나리오 1:10)

5.  **CONFIRMED (성공/영수증)**
    - 트리거: 최종 확인 (Conf=2)
    - UI: "영수증 (Conf=2)" 상태 배지 표시, "성공" 토스트.
    - (시연 시나리오 1:10)

## ⛈️ 예외 플로우 (Unhappy Path / Edge Cases)

1.  **FAILED_PROOF (증명 실패)**

    - 트리거: 증명 생성 로직(Wasm) 실패
    - UI: "증명 생성 실패" 배너 (1초 내) / Phase 2 `error-map.json` 참조

2.  **FAILED_SUBMIT (제출 실패)**

    - 트리거: Relayer API 오류, 가스 부족, 유저 거부 등
    - UI: "제출 실패: (사유)" 배너 (1초 내) / Phase 2 `error-map.json` 참조

3.  **DUPLICATE (중복 / 409)**
    - 트리거: Relayer가 409 에러 반환
    - UI: "409 중복" 배지 즉시 표시.
    - (시연 시나리오 1:40)
